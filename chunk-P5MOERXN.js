import{a as R}from"./chunk-SJH3S35E.js";import{c as E,d as M,i as k,n as B}from"./chunk-CICEWSG5.js";import{Ea as _,Ib as V,Ja as w,Q as s,Ra as b,Ta as h,X as p,Xa as l,Y as v,Ya as i,Za as I,_a as y,bb as u,cb as d,ha as f,ib as r,jb as C,kb as c,pb as S,ra as g,ua as a,ub as x,vb as D,wb as T}from"./chunk-J5NQ2W5G.js";import"./chunk-2VMXMS7J.js";function j(m,n){if(m&1){let t=y();S(0),l(1,"div",2)(2,"div",3)(3,"button",4),u("click",function(){p(t);let e=d();return v(e.goBack())}),r(4," Volver "),i(),I(5,"img",5),i(),l(6,"div",6)(7,"h1",7),r(8),i(),l(9,"p",8),r(10),i(),l(11,"div",9)(12,"p")(13,"span",10),r(14,"Release Date:"),i(),r(15),x(16,"date"),i(),l(17,"p")(18,"span",10),r(19,"Rating:"),i(),r(20),x(21,"number"),i()(),l(22,"button",11),u("click",function(){p(t);let e=d();return v(e.verTrailer())}),r(23," \u25B6\uFE0F Ver Trailer "),i()()()}if(m&2){let t,o=d(),e=o.movie.value();a(5),b("src",o.getImageUrl((t=e==null?null:e.poster_path)!==null&&t!==void 0?t:null),g)("alt",e==null?null:e.title),a(3),c(" ",e==null?null:e.title," "),a(2),C(e==null?null:e.overview),a(5),c(" ",D(16,6,e==null?null:e.release_date)," "),a(5),c(" ",T(21,8,e==null?null:e.vote_average,"1.1-1"),"/10 ")}}var U=class m{movieId=f.required();_router=s(k);_moviesService=s(B);_imageService=s(V);movie=R({request:this.movieId,loader:()=>this._moviesService.getMovieById(this.movieId())});verTrailer(){this._moviesService.getMovieTrailer(this.movieId()).subscribe(n=>{let t=n.results.find(o=>o.site==="YouTube"&&o.type==="Trailer");t?window.open(`https://www.youtube.com/watch?v=${t.key}`,"_blank"):alert("No se encontr\xF3 tr\xE1iler para esta pel\xEDcula.")})}goBack(){this._router.navigate(["/.."]).then(()=>{let n=sessionStorage.getItem("movie-scroll");n&&setTimeout(()=>{window.scrollTo({top:parseInt(n,10),behavior:"smooth"}),sessionStorage.removeItem("movie-scroll")},100)})}getImageUrl(n){return this._imageService.getImageUrl(n)}static \u0275fac=function(t){return new(t||m)};static \u0275cmp=_({type:m,selectors:[["app-movie-details"]],inputs:{movieId:[1,"movieId"]},decls:3,vars:1,consts:[[1,"min-h-screen","p-4","md:p-8","mt-8"],[1,"max-w-4xl","mx-auto","mt-4"],[1,"grid","gap-8","mt-4","md:grid-cols-2","items-start"],[1,"flex","flex-col","md:flex-row","items-start","md:items-start","justify-start"],[1,"flex","items-center","justify-center","gap-2","mb-2","md:mb-0","md:mr-4","px-2","py-1","min-w-[90px]","rounded","bg-white/10","border","border-netflix-red","text-white","font-semibold","shadow","hover:bg-netflix-red","hover:text-white","transition-colors","duration-200","text-center",3,"click"],[1,"w-full","h-auto","rounded-lg","max-w-sm",3,"src","alt"],[1,"col-span-2","md:col-span-1","md:pl-24"],[1,"mb-4","text-4lx","font-bold"],[1,"mb-4","text-gray-300"],[1,"space-y-2"],[1,"font-bold"],[1,"mt-4","p-2","rounded-md","bg-white/20","hover:bg-white/40","text-white","font-semibold","transition-colors","duration-200","w-full","md:w-auto",3,"click"]],template:function(t,o){t&1&&(l(0,"div",0)(1,"div",1),w(2,j,24,11,"div",2),i()()),t&2&&(a(2),h(o.movie?2:-1))},dependencies:[E,M],encapsulation:2})};export{U as MovieDetailsComponent};
