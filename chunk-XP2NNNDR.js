import{a as F}from"./chunk-NZ32QVCB.js";import"./chunk-6UOHAPVV.js";import{a as D}from"./chunk-YZCDMM42.js";import{$a as n,Ga as p,Jb as f,La as w,Q as c,Ra as C,Sa as y,Ua as m,Xa as S,Ya as d,Za as v,_a as o,ab as a,eb as b,fb as u,ha as _,lb as l,mb as h,ta as x,va as M,wa as s,xb as E}from"./chunk-PA2HHXA4.js";import"./chunk-2VMXMS7J.js";var L=(e,i)=>i.id;function j(e,i){if(e&1&&(o(0,"div",3),a(1,"img",4),o(2,"div",5)(3,"div",6)(4,"h3",7),l(5),n(),o(6,"div",8)(7,"button",9),l(8," \u25B6\uFE0F Ver Trailer "),n(),o(9,"button",9),l(10," \u2139\uFE0F M\xE1s informaci\xF3n "),n()()()()()),e&2){let t=i.$implicit,r=u();s(),m("src",r.getImageUrl(t.poster_path),x)("alt",t.title),s(4),h(t.title)}}var g=class e{title=_("Trending");movies=_.required();_imageService=c(D);getImageUrl(i){return this._imageService.getImageUrl(i)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=p({type:e,selectors:[["app-movie-row"]],inputs:{title:[1,"title"],movies:[1,"movies"]},decls:6,vars:1,consts:[[1,"px-4","mt-4","md:px-16"],[1,"mb-4","text-xl","font-semibold","text-white","md:text-2xl"],[1,"grid","grid-cols-2","gap-4","md:grid-cols-4"],[1,"relative","transition","duration-200","ease-in","transform","cursor-pointer","group","sm:hover:scale-105"],[1,"object-cover","w-full","rounded-md",3,"src","alt"],[1,"absolute","inset-0","rounded-md","flex","items-center","justify-center","transition-all","duration-200","bg-black","bg-opacity-0","group-hover:bg-opacity-60"],[1,"p-4","text-center","text-white","opacity-0","group-hover:opacity-100"],[1,"font-semibold"],[1,"flex","space-x-2","justify-center","mt-2"],[1,"p-2","rounded-md","bg-white/20","hover:bg-white/40"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"h2",1),l(2),n(),o(3,"div",2),d(4,j,11,3,"div",3,L),n()()),t&2&&(s(2),h(r.title()),s(2),v(r.movies().slice(0,4)))},encapsulation:2})};var k=()=>[import("./chunk-SWITWKIC.js").then(e=>e.RouterLink),import("./chunk-K3OHFECG.js").then(e=>e.MovieCardComponent)],H=e=>["/movies",e];function R(e,i){if(e&1&&(o(0,"a",2),a(1,"app-movie-card",3),n()),e&2){let t=i.$implicit;m("routerLink",E(2,H,t.id)),s(),m("movie",t)}}function B(e,i){if(e&1&&(o(0,"div",1),d(1,R,2,4,"a",2,S),n()),e&2){let t=u();s(),v(t.movies())}}function N(e,i){e&1&&(o(0,"div",4),a(1,"div",5),n())}var T=class e{isLoading=f(()=>this._moviesService.isLoading());hasMorePages=f(()=>this._moviesService.hasMorePages());_moviesService=c(F);movies=this._moviesService.movies;trendingMovies=f(()=>this._moviesService.trendingMovies());onScroll(){if(!this.isLoading()&&this.hasMorePages()){let i=window.innerHeight+window.scrollY,t=document.documentElement.scrollHeight-200;i>=t&&this._moviesService.getMovies()}}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=p({type:e,selectors:[["app-movies"]],hostBindings:function(t,r){t&1&&b("scroll",function(){return r.onScroll()},!1,M)},decls:5,vars:2,consts:[[3,"title","movies"],[1,"grid","grid-col-2","gap-4","px-4","mx-auto","mt-6","max-w-7xl","md:grid-cols-4","lg:grid-cols-6"],[3,"routerLink"],[1,"w-full",3,"movie"],[1,"flex","justify-center","p-4"],[1,"w-8","h-8","border-b-2","border-white","rounded-full","animate-spin"]],template:function(t,r){t&1&&(a(0,"app-movie-row",0),w(1,B,3,0)(2,N,2,0),C(3,1,k,null,2),y(0,-1)),t&2&&m("title","Popular Movies")("movies",r.trendingMovies())},dependencies:[g],encapsulation:2})};export{T as MoviesComponent};
